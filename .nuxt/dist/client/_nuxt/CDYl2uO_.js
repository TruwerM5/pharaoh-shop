import{_ as Q}from"./Dp8LfjAF.js";import{_ as R,a as j}from"./DviNveDu.js";import{_ as z}from"./C51amIX2.js";import{y as $,r as m,o as c,c as _,a as t,J as u,K as k,F as x,B as F,t as b,q as n,L as S,M as A,p as q,f as w,_ as I,z as D,N as E,O as G,G as H,P as C,b as h,w as f,H as J,I as K,C as V,Q as W}from"./ecQgoOz_.js";import{u as L}from"./Ds07txH6.js";const d=i=>(q("data-v-c7815cb7"),i=i(),w(),i),X={class:"filters modal"},Y={class:"filters__inner"},Z={class:"filters__block"},ee=d(()=>t("span",{class:"filters__label"}," Пол: ",-1)),te=d(()=>t("option",{value:"",selected:"",placeholder:"Не выбрано"},"Не выбрано",-1)),se=["value"],oe={class:"filters__block"},ne=d(()=>t("span",{class:"filters__label"}," Бренд: ",-1)),re=d(()=>t("option",{value:"",selected:"",placeholder:"Не выбрано"},"Не выбрано",-1)),le=["value"],ie={class:"filters__block"},ae=d(()=>t("span",{class:"filters__label block mb-[10px]"}," Цена ",-1)),ce=d(()=>t("img",{src:R,alt:"Закрыть",class:"filters__close-icon"},null,-1)),_e=[ce],ue=$({__name:"FiltersVue",props:{filters:{}},setup(i){const a=m(["adidas","new-balance","puma","reebok","carhartt","nike","the-north-face","stone-island"]),g=m([{gender:"male",title:"Мужской"},{gender:"female",title:"Женский"},{gender:"unisex",title:"Унисекс"}]),r=L();return(l,e)=>(c(),_("div",X,[t("div",Y,[t("div",Z,[ee,u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.filters.gender=s),placeholder:"Не выбрано",name:"gender",id:"gender",class:"filters__select"},[te,(c(!0),_(x,null,F(n(g),(s,p)=>(c(),_("option",{key:p,value:s.gender},b(s.title),9,se))),128))],512),[[k,l.filters.gender]])]),t("div",oe,[ne,u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.filters.brand=s),placeholder:"Не выбрано",name:"brand",id:"brand",class:"filters__select"},[re,(c(!0),_(x,null,F(n(a),(s,p)=>(c(),_("option",{key:p,value:s,class:"capitalize"},b(s.split("-").join(" ")),9,le))),128))],512),[[k,l.filters.brand]])]),t("div",ie,[ae,u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.filters.minPrice=s),type:"number",class:"filters__input",placeholder:"От",id:"min_price",name:"min_price"},null,512),[[S,l.filters.minPrice]]),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.filters.maxPrice=s),type:"number",class:"filters__input",placeholder:"До",id:"max_price",name:"max_price"},null,512),[[S,l.filters.maxPrice]])]),A(l.$slots,"button",{},void 0)]),t("button",{onClick:e[4]||(e[4]=(...s)=>n(r).closeFilters&&n(r).closeFilters(...s)),class:"filters__close-btn modal__close-btn"},_e)]))}}),de=I(ue,[["__scopeId","data-v-c7815cb7"]]),pe=D("/images/filter.svg"),B=i=>(q("data-v-4656e787"),i=i(),w(),i),me={class:"categories page"},fe={class:"categories__nav page-nav"},be={class:"categories__title page-title"},ge={key:0,class:"categories__filter-quantity"},ve=B(()=>t("img",{src:pe,alt:"Фильтры",class:"categories__filter-icon"},null,-1)),Pe=B(()=>t("span",{class:"alert-message text-[16px] test-rose-500"}," Извините, по вашему запросу ничего найдено. ",-1)),he=$({__name:"[category]",setup(i){const a=E(),g=G(),r=L(),l=m(""),e=m({gender:a.query.gender||"",brand:a.query.brand||"",color:a.params.color||null,minPrice:a.query.minPrice||null,maxPrice:a.query.maxPrice||null}),s=m(y());H(()=>{setTimeout(()=>{r.isClient=!0},400)}),l.value=r.getCategoryTitle(a.params.category);function p(){let o={};e.value.brand&&(o.brand=e.value.brand),e.value.gender&&(o.gender=e.value.gender),e.value.minPrice&&(o.minPrice=e.value.minPrice),e.value.maxPrice&&(o.maxPrice=e.value.maxPrice),o.minPrice&&o.maxPrice&&o.minPrice>o.maxPrice&&(o.minPrice=null,o.maxPrice=null),g.push({query:o}),r.setFilters(a.params.category,e.value),r.closeFilters(),s.value=y()}function y(){let o=0;for(const[v,P]of Object.entries(e.value))P&&o++;return o}function T(){e.value={brand:"",gender:"",minPrice:null,maxPrice:null},W({query:{}})}return(o,v)=>{const P=Q,U=j,M=z,N=de;return u((c(),_("div",me,[h(M,null,{content:f(()=>[t("div",fe,[t("h1",be,b(n(l)?n(l)[1]:""),1),t("button",{onClick:v[0]||(v[0]=(...O)=>n(r).openFilters&&n(r).openFilters(...O)),class:"categories__filter-btn"},[n(s)>0?(c(),_("span",ge,b(n(s)),1)):K("",!0),ve])]),n(r).currentProducts.length>0?(c(),V(P,{key:0,products:n(r).currentProducts},null,8,["products"])):(c(),V(U,{key:1},{message:f(()=>[Pe]),_:1}))]),_:1}),h(J,{name:"modal"},{default:f(()=>[u(h(N,{filters:n(e)},{button:f(()=>[t("button",{onClick:p,class:"primary-button filter-accept-btn"},"Применить"),t("button",{onClick:T,class:"filter-disable-btn secondary-btn"},"Убрать все фильтры")]),_:1},8,["filters"]),[[C,n(r).areFiltersOpened]])]),_:1})],512)),[[C,n(r).isClient]])}}}),Ce=I(he,[["__scopeId","data-v-4656e787"]]);export{Ce as default};
