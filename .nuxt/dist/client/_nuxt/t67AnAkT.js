import{_ as Q}from"./SEeIo3TC.js";import{_ as R,a as j}from"./CCzHu5XG.js";import{_ as z}from"./CmVlM23W.js";import{y as V,r as m,o as c,c as _,a as t,J as p,K as k,F as x,B as F,t as g,q as n,L as S,M as A,p as q,f as w,_ as I,z as D,N as E,O as G,G as H,b as h,w as f,H as J,I as $,C,P as K,Q as W}from"./gL9OXyPW.js";import{u as L}from"./hEThezMj.js";const u=a=>(q("data-v-1ee238c5"),a=a(),w(),a),X={class:"filters modal"},Y={class:"filters__inner"},Z={class:"filters__block"},ee=u(()=>t("span",{class:"filters__label"}," Пол: ",-1)),te=u(()=>t("option",{value:"",selected:"",placeholder:"Не выбрано"},"Не выбрано",-1)),se=["value"],oe={class:"filters__block"},ne=u(()=>t("span",{class:"filters__label"}," Бренд: ",-1)),re=u(()=>t("option",{value:"",selected:"",placeholder:"Не выбрано"},"Не выбрано",-1)),le=["value"],ie={class:"filters__block"},ae=u(()=>t("span",{class:"filters__label block mb-[10px]"}," Цена ",-1)),ce=u(()=>t("img",{src:R,alt:"Закрыть",class:"filters__close-icon modal__close-icon"},null,-1)),_e=[ce],ue=V({__name:"FiltersVue",props:{filters:{}},setup(a){const i=m(["adidas","new-balance","puma","reebok","carhartt","nike","the-north-face","stone-island"]),b=m([{gender:"male",title:"Мужской"},{gender:"female",title:"Женский"},{gender:"unisex",title:"Унисекс"}]),r=L();return(l,e)=>(c(),_("div",X,[t("div",Y,[t("div",Z,[ee,p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.filters.gender=s),placeholder:"Не выбрано",name:"gender",id:"gender",class:"filters__select"},[te,(c(!0),_(x,null,F(n(b),(s,d)=>(c(),_("option",{key:d,value:s.gender},g(s.title),9,se))),128))],512),[[k,l.filters.gender]])]),t("div",oe,[ne,p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.filters.brand=s),placeholder:"Не выбрано",name:"brand",id:"brand",class:"filters__select"},[re,(c(!0),_(x,null,F(n(i),(s,d)=>(c(),_("option",{key:d,value:s,class:"capitalize"},g(s.split("-").join(" ")),9,le))),128))],512),[[k,l.filters.brand]])]),t("div",ie,[ae,p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.filters.minPrice=s),type:"number",class:"filters__input",placeholder:"От",id:"min_price",name:"min_price",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[S,l.filters.minPrice]]),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.filters.maxPrice=s),type:"number",class:"filters__input",placeholder:"До",id:"max_price",name:"max_price",inputmode:"numeric",pattern:"[0-9]*"},null,512),[[S,l.filters.maxPrice]])]),A(l.$slots,"button",{},void 0)]),t("button",{onClick:e[4]||(e[4]=(...s)=>n(r).closeFilters&&n(r).closeFilters(...s)),class:"filters__close-btn modal__close-btn"},_e)]))}}),de=I(ue,[["__scopeId","data-v-1ee238c5"]]),pe=D("/images/filter.svg"),B=a=>(q("data-v-e9e7cffc"),a=a(),w(),a),me={key:0,class:"categories page"},fe={class:"categories__nav page-nav"},ge={class:"categories__title page-title"},be={key:0,class:"categories__filter-quantity"},ve=B(()=>t("img",{src:pe,alt:"Фильтры",class:"categories__filter-icon"},null,-1)),Pe=B(()=>t("span",{class:"alert-message text-[16px] test-rose-500"}," Извините, по вашему запросу ничего найдено. ",-1)),he=V({__name:"[category]",setup(a){const i=E(),b=G(),r=L(),l=m(""),e=m({gender:i.query.gender||"",brand:i.query.brand||"",color:i.params.color||null,minPrice:i.query.minPrice||null,maxPrice:i.query.maxPrice||null}),s=m(y());H(()=>{r.isClient=!0}),l.value=r.getCategoryTitle(i.params.category);function d(){let o={};e.value.brand&&(o.brand=e.value.brand),e.value.gender&&(o.gender=e.value.gender),e.value.minPrice&&(o.minPrice=e.value.minPrice),e.value.maxPrice&&(o.maxPrice=e.value.maxPrice),o.minPrice&&o.maxPrice&&o.minPrice>o.maxPrice&&(o.minPrice=null,o.maxPrice=null),b.push({query:o}),r.setFilters(i.params.category,e.value),r.closeFilters(),s.value=y()}function y(){let o=0;for(const[v,P]of Object.entries(e.value))P&&o++;return o}function U(){e.value={brand:"",gender:"",minPrice:null,maxPrice:null},W({query:{}})}return(o,v)=>{const P=Q,M=j,N=z,T=de;return n(r).isClient?(c(),_("div",me,[h(N,null,{content:f(()=>[t("div",fe,[t("h1",ge,g(o.$t(n(i).params.category.toString())),1),t("button",{onClick:v[0]||(v[0]=(...O)=>n(r).openFilters&&n(r).openFilters(...O)),class:"categories__filter-btn"},[n(s)>0?(c(),_("span",be,g(n(s)),1)):$("",!0),ve])]),n(r).currentProducts.length>0?(c(),C(P,{key:0,products:n(r).currentProducts},null,8,["products"])):(c(),C(M,{key:1},{message:f(()=>[Pe]),_:1}))]),_:1}),h(J,{name:"modal"},{default:f(()=>[p(h(T,{filters:n(e)},{button:f(()=>[t("button",{onClick:d,class:"primary-button filter-accept-btn"},"Применить"),t("button",{onClick:U,class:"filter-disable-btn secondary-btn"},"Убрать все фильтры")]),_:1},8,["filters"]),[[K,n(r).areFiltersOpened]])]),_:1})])):$("",!0)}}}),$e=I(he,[["__scopeId","data-v-e9e7cffc"]]);export{$e as default};
