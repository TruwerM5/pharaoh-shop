{"version":3,"file":"categoriesw-Dg0_mnM8.js","sources":["../../../../pages/categoriesw.vue"],"sourcesContent":["<script setup lang=\"ts\">\n//List here products filtered by query\n\nimport { useProductsStore } from '~/stores/products.store';\nimport type { Product } from '~/types/product';\nconst route = useRoute();\nconst ProductsStore = useProductsStore();\nconst data = ref<Product[]>([]);\nconst translatedQuery = ref(ProductsStore.checkQueryString(route.query));\n\nif(!route.query.category) {\n    data.value = ProductsStore.products;\n} else {\n    data.value = ProductsStore.products.filter(item => {\n        if(route.query.category) {\n            return item.category == route.query.category;\n        } else return false;\n    });\n}\n\n \n\n\nonBeforeRouteUpdate((to,from) => {\n    //Update products list with new query params\n    if(!to.query.category) {\n        data.value = ProductsStore.products;\n    } else {\n        data.value = ProductsStore.products.filter(item => {\n            if(to.query.category) {\n                return item.category == to.query.category;\n            } else return false;\n        });\n        translatedQuery.value = ProductsStore.checkQueryString(to.query);\n    }\n});\n\n\n</script>\n\n<template>\n    <div class=\"categories page\">\n        <template v-if=\"data.length > 0\">\n            <div class=\"categories__nav\">\n                <h1 class=\"categories__title page-title\">{{ translatedQuery }}</h1>\n            </div>\n        </template>\n        <ScrollVue>\n            <template #content>\n                <ProductsList :products=\"data\" />\n            </template>\n            \n        </ScrollVue>\n        \n    </div>\n</template>\n\n<style lang=\"sass\" scoped>\n\n.categories\n    &__nav\n        margin-bottom: 30px\n\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAM,QAAQ;AACd,UAAM,gBAAgB;AAChB,UAAA,OAAO,IAAe,CAAA,CAAE;AAC9B,UAAM,kBAAkB,IAAI,cAAc,iBAAiB,MAAM,KAAK,CAAC;AAEpE,QAAA,CAAC,MAAM,MAAM,UAAU;AACtB,WAAK,QAAQ,cAAc;AAAA,IAAA,OACxB;AACH,WAAK,QAAQ,cAAc,SAAS,OAAO,CAAQ,SAAA;AAC5C,YAAA,MAAM,MAAM,UAAU;AACd,iBAAA,KAAK,YAAY,MAAM,MAAM;AAAA,QACxC;AAAc,iBAAA;AAAA,MAAA,CACjB;AAAA,IACL;AAKoB,wBAAA,CAAC,IAAG,SAAS;AAE1B,UAAA,CAAC,GAAG,MAAM,UAAU;AACnB,aAAK,QAAQ,cAAc;AAAA,MAAA,OACxB;AACH,aAAK,QAAQ,cAAc,SAAS,OAAO,CAAQ,SAAA;AAC5C,cAAA,GAAG,MAAM,UAAU;AACX,mBAAA,KAAK,YAAY,GAAG,MAAM;AAAA,UACrC;AAAc,mBAAA;AAAA,QAAA,CACjB;AACD,wBAAgB,QAAQ,cAAc,iBAAiB,GAAG,KAAK;AAAA,MACnE;AAAA,IAAA,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}