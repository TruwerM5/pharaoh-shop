{"version":3,"file":"categories-BaXpgHoR.js","sources":["../../../../components/products/ProductsList.vue","../../../../pages/categories.vue"],"sourcesContent":["<script setup lang=\"ts\">\n//Wrapper for product items\nimport type { Product } from '~/types/product';\nimport { useNavStore } from '#imports';\n\n\nconst props = defineProps<{products: Product[]}>();\nconst NavStore = useNavStore();\nconst route = useRoute();\n\n\n</script>\n\n<template>\n    <div class=\"products-list\">\n        <AlertVue v-if=\"!products.length\">\n            <template #message>\n                <span class=\"alert-message text-[16px] test-rose-500\">\n                    Извините, по вашему запросу ничего найдено.\n                </span>\n            </template>\n        </AlertVue>\n        <ul v-else\n        class=\"products-list__inner\">\n            <ProductsItemVue v-for=\"item in products\" :key=\"item.id\" :product=\"item\" />\n        </ul>\n    </div>\n</template>\n\n<style lang=\"sass\" scoped>\n.products-list\n    &__inner\n        display: grid\n        grid-template-columns: 1fr\n        padding-inline: 35px\n        gap: 20px\n        align-content: center\n        justify-content: center\n</style>","<script setup lang=\"ts\">\n//List here products filtered by query\n\nimport { useProductsStore } from '~/stores/products.store';\nimport type { Product } from '~/types/product';\nconst route = useRoute();\nconst ProductsStore = useProductsStore();\n\nconst data = ref<Product[]>([]);\n\nif(!route.query.category) {\n    console.log(\"No query\");\n    data.value = ProductsStore.products;\n} else {\n    data.value = ProductsStore.products.filter(item => {\n        if(route.query.category) {\n            return item.category == route.query.category;\n        } else return false;\n    });\n}\n\n \n\n\nonBeforeRouteUpdate((to,from) => {\n    //Update products list with new query params\n    if(!to.query.category) {\n        data.value = ProductsStore.products;\n    } else {\n        data.value = ProductsStore.products.filter(item => {\n            if(to.query.category) {\n                return item.category == to.query.category;\n            } else return false;\n        });\n    }\n});\n\nconsole.log(data.value);\n\n</script>\n\n<template>\n    <div class=\"product-page page\">\n        <ProductsList :products=\"data\" />\n    </div>\n</template>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOiB,gBAAY;AACf,aAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHvB,UAAM,QAAQ;AACd,UAAM,gBAAgB;AAEhB,UAAA,OAAO,IAAe,CAAA,CAAE;AAE3B,QAAA,CAAC,MAAM,MAAM,UAAU;AACtB,cAAQ,IAAI,UAAU;AACtB,WAAK,QAAQ,cAAc;AAAA,IAAA,OACxB;AACH,WAAK,QAAQ,cAAc,SAAS,OAAO,CAAQ,SAAA;AAC5C,YAAA,MAAM,MAAM,UAAU;AACd,iBAAA,KAAK,YAAY,MAAM,MAAM;AAAA,QACxC;AAAc,iBAAA;AAAA,MAAA,CACjB;AAAA,IACL;AAKoB,wBAAA,CAAC,IAAG,SAAS;AAE1B,UAAA,CAAC,GAAG,MAAM,UAAU;AACnB,aAAK,QAAQ,cAAc;AAAA,MAAA,OACxB;AACH,aAAK,QAAQ,cAAc,SAAS,OAAO,CAAQ,SAAA;AAC5C,cAAA,GAAG,MAAM,UAAU;AACX,mBAAA,KAAK,YAAY,GAAG,MAAM;AAAA,UACrC;AAAc,mBAAA;AAAA,QAAA,CACjB;AAAA,MACL;AAAA,IAAA,CACH;AAEO,YAAA,IAAI,KAAK,KAAK;;;;;;;;;;;;;;;"}