import{_ as E,a as F}from"./CCzHu5XG.js";import{S as H,y as x,r as p,G as M,k as R,o as a,C as U,w as z,q as o,c as n,a as e,F as g,B as k,U as v,I as B,H as W,p as y,f as I,_ as C,z as V,V as D,W as X,A as j,N as J,u as K,b as h,t as b,d as Q,e as Y}from"./gL9OXyPW.js";import{u as Z}from"./hEThezMj.js";const w=H("useImagesStore",{state:()=>({currentIndex:0,isGalleryOpened:!1}),actions:{setCurrentIndex(t){this.currentIndex=t},openGallery(){this.isGalleryOpened=!0},closeGallery(){this.isGalleryOpened=!1}}}),ee=t=>(y("data-v-caf7f2ba"),t=t(),I(),t),se={key:0,class:"images-details"},te={class:"images-details__list"},oe=["data-index"],ae=["src","alt"],ne={class:"images-details__buttons"},ce=["onClick","data-index"],ie=["src","alt"],re=ee(()=>e("img",{src:E,alt:"Закрыть",class:"images-details__icon modal__close-icon"},null,-1)),_e=[re],le=x({__name:"ProductImageBigVue",props:{images:{}},setup(t){const c=w(),d=p(null),_=p(null),u=p(null);return M(()=>{R(_,i=>{u.value.forEach(r=>{r.addEventListener("click",l=>{d.value.scrollTo(i[0].clientWidth*r.dataset.index,0)})})})}),(i,r)=>(a(),U(W,{name:"modal"},{default:z(()=>[o(c).isGalleryOpened?(a(),n("div",se,[e("div",{class:"images-details__inner snap-x snap-mandatory",ref_key:"container",ref:d},[e("ul",te,[(a(!0),n(g,null,k(i.images,(l,s)=>(a(),n("li",{key:s,class:"images-details__item snap-center block min-h-full",ref_for:!0,ref_key:"item",ref:_,"data-index":s},[e("img",{src:`/images/${l}`,alt:`${l}`,class:"images-details__image"},null,8,ae)],8,oe))),128))])],512),e("div",ne,[(a(!0),n(g,null,k(i.images,(l,s)=>(a(),n("button",{key:s,onClick:$=>o(c).setCurrentIndex(s),class:v(["images-details__btn"]),ref_for:!0,ref_key:"buttons",ref:u,"data-index":s},[e("img",{src:`/images/${l}`,alt:`${s}`,class:"images-details__btn-icon"},null,8,ie)],8,ce))),128))]),e("button",{onClick:r[0]||(r[0]=(...l)=>o(c).closeGallery&&o(c).closeGallery(...l)),class:"images-details__close-btn"},_e)])):B("",!0)]),_:1}))}}),de=C(le,[["__scopeId","data-v-caf7f2ba"]]),ue=V("/images/chevron-prev.svg"),me=V("/images/chevron-next.svg"),P=t=>(y("data-v-75975109"),t=t(),I(),t),pe={class:"images-wrapper"},ge={class:"product-images"},ve=["src","alt"],fe={key:0,class:"product-images__buttons"},he=P(()=>e("img",{src:ue,alt:"Назад",class:"product-images__icon"},null,-1)),be=[he],ke=P(()=>e("img",{src:me,alt:"Вперед",class:"product-images__icon"},null,-1)),$e=[ke],xe=x({__name:"ProductImageVue",props:{images:{}},setup(t){const c=t,d=w(),_=p(0);function u(i){c.images.length<2||(i>0?_.value<c.images.length-1?_.value++:_.value=0:i<0&&(_.value>0?_.value--:_.value=c.images.length-1),d.setCurrentIndex(_.value))}return(i,r)=>(a(),n("div",pe,[e("div",ge,[e("div",{class:"product-images__content",style:D({transform:`translateX(${-o(d).currentIndex*100}%)`})},[(a(!0),n(g,null,k(i.images,(l,s)=>(a(),n("div",{key:s,class:"product-images__item"},[e("img",{class:"product-images__image",src:`/images/${l}`,alt:`Product${s+1}`,onClick:r[0]||(r[0]=(...$)=>o(d).openGallery&&o(d).openGallery(...$))},null,8,ve)]))),128))],4)]),i.images.length>1?(a(),n("div",fe,[e("button",{onClick:r[1]||(r[1]=l=>u(-1)),class:"product-images__btn product-images__btn_prev"},be),e("button",{onClick:r[2]||(r[2]=l=>u(1)),class:"product-images__btn product-images__btn_next"},$e)])):B("",!0)]))}}),ye=C(xe,[["__scopeId","data-v-75975109"]]),T=t=>(y("data-v-ed3a4c05"),t=t(),I(),t),Ie={class:"add-to-cart-btn__wrapper"},Ce=T(()=>e("span",{class:v(["add-to-cart-btn__block"])},[e("img",{class:"add-to-cart-btn__icon",src:X,alt:"Добавить в корзину"}),e("span",{class:"add-to-cart-btn__text"},"В корзину")],-1)),Se=[Ce],ze=T(()=>e("img",{src:"/images/check-icon.svg",alt:"Checked",class:"add-to-cart-btn__check-icon"},null,-1)),Be=[ze],Ve=x({__name:"AddToCartBtnVue",setup(t){const c=p(!1);function d(){c.value||(c.value=!0,setTimeout(()=>{c.value=!1},800))}return(_,u)=>(a(),n("button",{onClick:d,class:v(["add-to-cart-btn primary-button",{clicked:o(c)}])},[e("span",Ie,[e("span",{class:v(["add-to-cart-btn__inner",{clicked:o(c)}])},Se,2),e("span",{class:v(["add-to-cart-btn__check",{clicked:o(c)}])},Be,2)])],2))}}),Ge=C(Ve,[["__scopeId","data-v-ed3a4c05"]]),we=V("/images/arrow-icon.svg"),G=t=>(y("data-v-890f78a6"),t=t(),I(),t),Pe={class:"product-details page"},Te={key:0,class:"error"},Ne={class:"error__text"},Ae={key:1,class:"product-details__inner"},Le=G(()=>e("img",{class:"go-back-btn__icon",src:we,alt:"Назад"},null,-1)),Oe={class:"product-info px-[30px]"},qe={class:"carousel"},Ee={class:"product-info__bottom"},Fe={class:"block product-info__name"},He={class:"block product-info__price"},Me={class:"product-info__colors"},Re=G(()=>e("span",{class:"product-info__color"},"Цвет: ",-1)),Ue={class:"sizes"},We=["onClick"],De={class:"sizes__text"},Xe=G(()=>e("div",{class:"product-about px-[30px]"},[e("span",{class:"product-about__title"},"О товаре"),e("p",{class:"product-about__text"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio ab reprehenderit dolores minus beatae, aperiam voluptatem dicta in dolor, facilis et excepturi, distinctio quas debitis soluta at exercitationem labore quos.")],-1)),je=x({__name:"[id]",setup(t){const c=Z(),d=j(),_=J(),u=p(""),i=p();function r(m){i.value=m}function l(m){return c.getById(Number(m))}const s=p(l(_.params.id));s.value?(K({title:s.value.name}),s.value.sizes&&r(0)):u.value="Товар не найден.";function $(){let m;s.value&&(s.value.sizes&&i.value!=null?m=s.value.sizes[i.value]:m=void 0,d.addToCart(s.value,m,1))}return(m,Je)=>{const N=F,A=de,L=Y,O=ye,q=Ge;return a(),n("div",Pe,[o(u)?(a(),n("div",Te,[h(N,null,{message:z(()=>[e("span",Ne,b(o(u)),1)]),_:1})])):o(s)?(a(),n("div",Ae,[h(A,{images:o(s).images},null,8,["images"]),h(L,{to:{path:`/categories/${o(s).category}`},class:"go-back-btn"},{default:z(()=>[Le]),_:1},8,["to"]),e("div",Oe,[e("div",qe,[h(O,{images:o(s).images},null,8,["images"])]),e("div",Ee,[e("span",Fe,b(o(s).name),1),e("span",He,b(o(s).price)+"р. ",1),e("div",Me,[Re,(a(!0),n(g,null,k(o(s).colors,(S,f)=>(a(),n("span",{key:f,class:"product-info__color"},b(S),1))),128))]),e("div",Ue,[o(s).sizes?(a(!0),n(g,{key:0},k(o(s).sizes,(S,f)=>(a(),n("button",{key:f,onClick:Ke=>r(f),class:v(["sizes__btn",{selected:o(i)==f}])},[e("span",De,b(S),1)],10,We))),128)):(a(),n(g,{key:1},[Q(" Без размера ")],64))]),h(q,{onClick:$,class:"mt-[20px]"})])]),Xe])):B("",!0)])}}}),es=C(je,[["__scopeId","data-v-890f78a6"]]);export{es as default};
